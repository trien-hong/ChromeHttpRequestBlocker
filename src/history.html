<!DOCTYPE html>
<html>
  <head>
    <title>HTTP Request Blocker</title>
    <script src="lib/jquery/jquery.min.js"></script>
    <link href="lib/bootstrap/bootstrap.min.css" rel="stylesheet">
    <script src="lib/bootstrap/bootstrap.min.js"></script>
    <script src="lib/angular/angular.min.js"></script>
    <script src="lib/angular/angular-sanitize.min.js"></script>
    <script src="history.js"></script>
    <link href="static/history-style.css" rel="stylesheet"/>
  </head>
  <body ng-app="RequestBlockerApp">
    <div class="container" ng-controller="HistoryController" ng-init="init()" style="width: 1250px;">
      <div class="header">
        <div>
          <h2 class="header-text"><img class="logo" src="images/extension_icons/icon-128.png" width="60" height="60"/><b style="padding-left: 2.25em;">HTTP Request Blocker</b></h2>
        </div>
        <div>
          <h3 class="header-text nav-underline">
            <b><u>History Page</u></b>
          </h3>
        </div>
      </div>
      <hr class="hr-bar-top"/>
      <div class="content">
        <div class="vr"></div>
        <div class="content-patterns">
          <div class="content-patterns-header">
            <div title="Icon">
              <button class="btn btn-info" disabled>
                Icon
              </button>
            </div>
            <div class="pattern-input-one">
              <input type="text" class="form-control" value="Exact URL of what was blocked" title="Exact URL" disabled/>
            </div>
            <div class="pattern-input-two">
              <input type="text" class="form-control text-center" value="#" title="Number of times blocked" disabled/>
            </div>
            <div class="pattern-input-three">
              <input type="text" class="form-control text-center" value="Timestamp/last blocked" title="Timestamp/last blocked" disabled/>
            </div>
          </div>
          <div>
            <hr>
          </div>
          <div class="patterns overflow-x-hidden overflow-y-auto">
            <h2 class="patterns-empty-text text-danger text-center" ng-if="is_empty">
              <img src="images/misc/bug.svg" width="50"/>
              <br>
              <u>The extension has not blocked any website yet. <br>Therefore, history is empty.</u>
            </h2>
            <table class="table table-hover">
              <tr ng-repeat="(key, value) in url_blocked">
                <td class="pattern">
                  <div title="Icon">
                    <button class="btn btn-info" disabled>
                      <img src="https://s2.googleusercontent.com/s2/favicons?domain={{key}}">
                    </button>
                  </div>
                  <div class="pattern-input-one">
                    <input type="text" class="form-control" ng-model="key" title="Exact URL of what was blocked" disabled/>
                  </div>
                  <div class="pattern-input-two">
                    <input type="text" class="form-control text-center" ng-model="value[0]" title="Number of times blocked" disabled/>
                  </div>
                  <div class="pattern-input-three">
                    <input type="text" class="form-control text-center" ng-model="value[1]" title="Timestamp/last blocked" disabled/>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
        <div class="vr"></div>
        <div class="content-buttons">
          <div class="d-grid gap-2">
            <a class="btn btn-light" target="_blank" rel="noopener noreferrer" href="https://github.com/trien-hong/ChromeHttpRequestBlocker" role="button" title="Extension's repository">
              <img src="images/misc/github.svg"/>
              &nbsp;
              GitHub Repo
            </a>
          </div>
          <div>
            <hr>
          </div>
          <div class="d-grid gap-2">
            <a class="btn btn-secondary" href="options.html" role="button" title="Options page">
              <img src="images/misc/gear.svg"/>
              &nbsp;
              Options Page
            </a>
          </div>
          <div>
            <hr>
          </div>
          <div class="d-grid gap-2">
            <button class="btn {{button_is_pause_color}}" title="{{is_pause}}" ng-click="pause()">
              <img src="images/misc/pause-circle.svg"/>
              &nbsp;
              {{is_pause}}
            </button>
          </div>
          <div>
            <hr>
          </div>
          <!-- to be implemented clearPatterns() -->
          <div class="d-grid gap-2">
            <button class="btn btn-warning" ng-click="clearPatterns()" title="Clear your patterns">
              <img src="images/misc/x-octagon.svg"/>
              &nbsp;
              Clear Patterns
            </button>
          </div>
          <div>
            <hr>
          </div>
          <div class="text-center">
            <p>
              <img src="images/misc/git.svg"/>
              &nbsp;
              <b>Extension's Version | v{{extension_version}}</b>
              &nbsp;
              <img src="images/misc/git.svg"/>
            </p>
          </div>
        </div>
        <div class="vr"></div>
      </div>
      <hr class="hr-bar-bottom"/>
      <div class="modal fade" id="modal">
        <div class="modal-dialog modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title"><u><b>{{modalTitle}}</b></u></h4>
              &nbsp;&nbsp;
              <img src="images/misc/exclamation-octagon.svg" width="23" ng-if="show_modal_alert_icon"/>
              <button type="button" class="btn-close" data-bs-dismiss="modal" title="CLOSE ALERT"></button>
            </div>
            <div class="modal-body">
              <h5 ng-class="modalClass" ng-if="show_modal_message_class" ng-bind-html="modalMessage"></h5>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" ng-if="show_modal_close_button" title="CLOSE ALERT">CLOSE</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>